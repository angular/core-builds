!function(){"use strict";const t={AUXCLICK:"auxclick",CHANGE:"change",CLICK:"click",CLICKMOD:"clickmod",CLICKONLY:"clickonly",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEUP:"mouseup",MOUSEDOWN:"mousedown",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",MOUSEMOVE:"mousemove",POINTERUP:"pointerup",POINTERDOWN:"pointerdown",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERMOVE:"pointermove",POINTERCANCEL:"pointercancel",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",ERROR:"error",LOAD:"load",UNLOAD:"unload",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",INPUT:"input",SCROLL:"scroll",TOGGLE:"toggle",CUSTOM:"_custom"};var e;function n(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function i(t){let e=t.target;return!e.getAttribute&&e.parentNode&&(e=e.parentNode),e}!function(t){t[t.MAC_ENTER=3]="MAC_ENTER",t[t.ENTER=13]="ENTER",t[t.SPACE=32]="SPACE"}(e||(e={}));let o="undefined"!=typeof navigator&&/Macintosh/.test(navigator.userAgent);const r="undefined"!=typeof navigator&&!/Opera/.test(navigator.userAgent)&&/WebKit/.test(navigator.userAgent);"undefined"!=typeof navigator&&(/MSIE/.test(navigator.userAgent)||/Trident/.test(navigator.userAgent)),"undefined"!=typeof navigator&&!/Opera|WebKit/.test(navigator.userAgent)&&/Gecko/.test(navigator.product);const E={A:1,INPUT:1,TEXTAREA:1,SELECT:1,BUTTON:1};const s={Enter:e.ENTER," ":e.SPACE},a={A:e.ENTER,BUTTON:0,CHECKBOX:e.SPACE,COMBOBOX:e.ENTER,FILE:0,GRIDCELL:e.ENTER,LINK:e.ENTER,LISTBOX:e.ENTER,MENU:0,MENUBAR:0,MENUITEM:0,MENUITEMCHECKBOX:0,MENUITEMRADIO:0,OPTION:0,RADIO:e.SPACE,RADIOGROUP:e.SPACE,RESET:0,SUBMIT:0,SWITCH:e.SPACE,TAB:0,TREE:e.ENTER,TREEITEM:e.ENTER};function u(t){return(t.getAttribute("type")||t.tagName).toUpperCase()in p}function c(t){return(t.getAttribute("type")||t.tagName).toUpperCase()in T}const p={CHECKBOX:!0,FILE:!0,OPTION:!0,RADIO:!0},T={COLOR:!0,DATE:!0,DATETIME:!0,"DATETIME-LOCAL":!0,EMAIL:!0,MONTH:!0,NUMBER:!0,PASSWORD:!0,RANGE:!0,SEARCH:!0,TEL:!0,TEXT:!0,TEXTAREA:!0,TIME:!0,URL:!0,WEEK:!0},O={A:!0,AREA:!0,BUTTON:!0,DIALOG:!0,IMG:!0,INPUT:!0,LINK:!0,MENU:!0,OPTGROUP:!0,OPTION:!0,PROGRESS:!0,SELECT:!0,TEXTAREA:!0},l="undefined"!=typeof navigator&&/iPhone|iPad|iPod/.test(navigator.userAgent);class d{constructor(t){this.element=t,this.handlerInfos=[]}addEventListener(e,n){l&&(this.element.style.cursor="pointer"),this.handlerInfos.push(function(e,n,i){let o=!1;return n!==t.FOCUS&&n!==t.BLUR&&n!==t.ERROR&&n!==t.LOAD&&n!==t.TOGGLE||(o=!0),e.addEventListener(n,i,o),{eventType:n,handler:i,capture:o}}(this.element,e,n(this.element)))}cleanUp(){for(let n=0;n<this.handlerInfos.length;n++)e=this.handlerInfos[n],(t=this.element).removeEventListener?t.removeEventListener(e.eventType,e.handler,e.capture):t.detachEvent&&t.detachEvent(`on${e.eventType}`,e.handler);var t,e;this.handlerInfos=[]}}function h(t){return t.eventType}function C(t,e){t.eventType=e}function N(t){return t.event}function f(t){return t.eic}function A(t){return t.eia}function S(t,e,n){t.eia=[e,n]}function v(t){return t[1]}function R(t){return t.eiack}function I(t){return{eventType:t.eventType,event:t.event,targetElement:t.targetElement,eic:t.eic,eia:t.eia,timeStamp:t.timeStamp,eirp:t.eirp,eiack:t.eiack}}function y(n){(function(n){let o=n.which||n.keyCode;if(!o&&n.key&&(o=s[n.key]),r&&o===e.MAC_ENTER&&(o=e.ENTER),o!==e.ENTER&&o!==e.SPACE)return!1;const p=i(n);if(n.type!==t.KEYDOWN||!function(t){return"getAttribute"in t&&!c(t)&&!function(t){return"BUTTON"===t.tagName.toUpperCase()||!!t.type&&"FILE"===t.type.toUpperCase()}(t)&&!t.isContentEditable}(p)||function(t){return t.ctrlKey||t.shiftKey||t.altKey||t.metaKey}(n))return!1;if(u(p)&&o===e.SPACE)return!1;if(!function(t){return(t.tagName in E||function(t){const e=t.getAttributeNode("tabindex");return null!=e&&e.specified}(t))&&!t.disabled}(p))return!1;const T=(p.getAttribute("role")||p.type||p.tagName).toUpperCase(),O=a[T]%o==0,l=!(T in a)&&o===e.ENTER,d="INPUT"!==p.tagName.toUpperCase()||!!p.type;return(O||l)&&d})(N(n))&&(function(t,e){t.eiack=!0}(n),C(n,t.CLICK))}function U(t){R(t)&&(function(t){const n=t.which||t.keyCode,o=i(t),r=(o.type||o.tagName).toUpperCase();return n===e.SPACE&&"CHECKBOX"!==r}(N(t))||function(t){const e=i(t),n=e.tagName.toUpperCase(),o=(e.getAttribute("role")||"").toUpperCase();return"BUTTON"===n||"BUTTON"===o||!!function(t){return t.tagName.toUpperCase()in O}(e)&&"A"!==n&&"SELECT"!==n&&!u(e)&&!c(e)}(N(t)))&&n(N(t))}function P(e,n,i){A(n)||h(n)!==t.CLICK||R(n)||void 0===i[t.CLICKONLY]||(C(n,t.CLICKONLY),S(n,i[t.CLICKONLY],e))}var L;!function(t){t.JSACTION="jsaction",t.JSNAMESPACE="jsnamespace",t.OI="oi",t.VED="ved",t.VET="vet",t.JSINSTANCE="jsinstance",t.JSTRACK="jstrack"}(L||(L={}));var M;!function(t){t.JSACTION="__jsaction",t.JSNAMESPACE="__jsnamespace",t.OI="__oi",t.OWNER="__owner"}(M||(M={}));const m={};function g(t,e){t[M.JSACTION]=e}const k={},K=/\s*;\s*/,_=t.CLICK;class D{constructor({customEventSupport:t=!1,jsnamespaceSupport:e=!1,syntheticMouseEventSupport:n=!1}={}){this.a11yClickSupport=!1,this.updateEventInfoForA11yClick=void 0,this.preventDefaultForA11yClick=void 0,this.populateClickOnlyAction=void 0,this.customEventSupport=t,this.jsnamespaceSupport=e,this.syntheticMouseEventSupport=n}resolve(e){if(this.customEventSupport&&h(e)===t.CUSTOM){const t=N(e).detail;if(!t||!t._type)return;C(e,t._type)}this.populateAction(e)}populateAction(e){var n;h(e)===t.CLICK&&(n=N(e),o&&n.metaKey||!o&&n.ctrlKey||function(t){return 2===t.which||null==t.which&&4===t.button}(n)||n.shiftKey)?C(e,t.CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(e);let i=function(t){return t.targetElement}(e);for(;i&&i!==f(e)&&(i.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(i,e),!A(e));)i=i[M.OWNER]?i[M.OWNER]:"#document-fragment"!==i.parentNode?.nodeName?i.parentNode:i.parentNode?.host??null;const r=A(e);if(r&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(e),this.syntheticMouseEventSupport&&(h(e)===t.MOUSEENTER||h(e)===t.MOUSELEAVE||h(e)===t.POINTERENTER||h(e)===t.POINTERLEAVE)))if(function(e,n,i){const o=e.relatedTarget;return(e.type===t.MOUSEOVER&&n===t.MOUSEENTER||e.type===t.MOUSEOUT&&n===t.MOUSELEAVE||e.type===t.POINTEROVER&&n===t.POINTERENTER||e.type===t.POINTEROUT&&n===t.POINTERLEAVE)&&(!o||o!==i&&!function(t,e){if(null===e)return!1;if("contains"in t&&1===e.nodeType)return t.contains(e);if("compareDocumentPosition"in t)return t===e||Boolean(16&t.compareDocumentPosition(e));for(;e&&t!==e;)e=e.parentNode;return e===t}(i,o))}(N(e),h(e),v(r))){const n=function(e,n){const i={};for(const t in e){if("srcElement"===t||"target"===t)continue;const n=e[t];"function"!=typeof n&&(i[t]=n)}return i.type=e.type===t.MOUSEOVER?t.MOUSEENTER:e.type===t.MOUSEOUT?t.MOUSELEAVE:e.type===t.POINTEROVER?t.POINTERENTER:t.POINTERLEAVE,i.target=i.srcElement=n,i.bubbles=!1,i}(N(e),v(r));!function(t,e){t.event=e}(e,n),function(t,e){t.targetElement=e}(e,v(r))}else!function(t){t.eia=void 0}(e)}populateActionOnElement(t,e){const n=this.parseActions(t,f(e)),i=n[h(e)];void 0!==i&&S(e,i,t),this.a11yClickSupport&&this.populateClickOnlyAction(t,e,n)}parseActions(t,e){let n=t[M.JSACTION];if(!n){const i=t.getAttribute(L.JSACTION);if(i){if(n=m[i],!n){n={};const t=i.split(K);for(let e=0;e<t.length;e++){const i=t[e];if(!i)continue;const o=i.indexOf(":"),r=-1!==o,E=r?i.substr(0,o).trim():_,s=r?i.substr(o+1).trim():i;n[E]=s}m[i]=n}if(this.jsnamespaceSupport){const i=n;n={};for(const o in i)n[o]=this.getFullyQualifiedAction(i[o],t,e)}g(t,n)}else n=k,g(t,n)}return n}getFullyQualifiedAction(t,e,n){if(function(t){return t.indexOf(".")>=0}(t))return t;let i=e;for(;i&&i.nodeType===Node.ELEMENT_NODE;){const e=b(i);if(e)return e+"."+t;if(i===n)break;i=i.parentNode}return t}addA11yClickSupport(t,e,n){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=t,this.preventDefaultForA11yClick=e,this.populateClickOnlyAction=n}}function b(t){let e=function(t){return t[M.JSNAMESPACE]}(t);return void 0===e&&(e=t.getAttribute(L.JSNAMESPACE),function(t,e){t[M.JSNAMESPACE]=e}(t,e)),e}class w{static{this.CUSTOM_EVENT_SUPPORT=!1}static{this.A11Y_CLICK_SUPPORT=!1}static{this.MOUSE_SPECIAL_SUPPORT=!1}static{this.JSNAMESPACE_SUPPORT=!0}constructor(e){this.actionResolver=new D({customEventSupport:w.CUSTOM_EVENT_SUPPORT,jsnamespaceSupport:w.JSNAMESPACE_SUPPORT,syntheticMouseEventSupport:w.MOUSE_SPECIAL_SUPPORT}),this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[],this.addA11yClickListener=!1,this.containerManager=e,w.CUSTOM_EVENT_SUPPORT&&this.addEvent(t.CUSTOM),w.A11Y_CLICK_SUPPORT&&this.addA11yClickSupport()}handleEvent(t,e,n){const i=function(t,e,n,i,o,r,E,s){return{eventType:t,event:e,targetElement:n,eic:i,timeStamp:Date.now(),eia:void 0,eirp:void 0,eiack:void 0}}(t,e,e.target,n);this.handleEventInfo(i)}handleEventInfo(e){if(this.dispatcher||(function(t,e){t.eirp=!0}(e),this.queuedEventInfos?.push(e)),this.actionResolver.resolve(e),!this.dispatcher)return;const i=I(e);h(i)===t.CLICKONLY&&C(i,t.CLICK),this.dispatcher(i,!0);const o=A(e);o&&(function(e,n){return"A"===e.tagName&&(h(n)===t.CLICK||h(n)===t.CLICKMOD)}(v(o),e)&&n(N(e)),this.dispatcher(e))}addEvent(e,n){if(e in this.eventHandlers||!this.containerManager)return;if(!w.MOUSE_SPECIAL_SUPPORT&&(e===t.MOUSEENTER||e===t.MOUSELEAVE||e===t.POINTERENTER||e===t.POINTERLEAVE))return;const i=(t,e,n)=>{this.handleEvent(t,e,n)};this.eventHandlers[e]=i;const o=function(e){return e===t.MOUSEENTER?t.MOUSEOVER:e===t.MOUSELEAVE?t.MOUSEOUT:e===t.POINTERENTER?t.POINTEROVER:e===t.POINTERLEAVE?t.POINTEROUT:e}(n||e);if(o!==e){const t=this.browserEventTypeToExtraEventTypes[o]||[];t.push(e),this.browserEventTypeToExtraEventTypes[o]=t}this.containerManager.addEventListener(o,t=>n=>{i(e,n,t)}),this.addA11yClickListener&&e===t.CLICK&&this.addEvent(t.KEYDOWN)}replayEarlyEvents(){const t=window._ejsa;if(!t)return;const e=t.q;for(let t=0;t<e.length;t++){const n=e[t],i=this.getEventTypesForBrowserEventType(n.eventType);for(let t=0;t<i.length;t++){const e=I(n);C(e,i[t]),this.handleEventInfo(e)}}const n=t.et,i=t.h;for(let t=0;t<n.length;t++)window.document.documentElement.removeEventListener(n[t],i);delete window._ejsa}getEventTypesForBrowserEventType(t){const e=[];return this.eventHandlers[t]&&e.push(t),this.browserEventTypeToExtraEventTypes[t]&&e.push(...this.browserEventTypeToExtraEventTypes[t]),e}handler(t){return this.eventHandlers[t]}cleanUp(){this.containerManager.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(t,e){this.ecrd(t,e)}ecrd(t,e){if(this.dispatcher=t,this.queuedEventInfos?.length){for(let t=0;t<this.queuedEventInfos.length;t++)this.handleEventInfo(this.queuedEventInfos[t]);this.queuedEventInfos=null}}addA11yClickSupport(){this.addA11yClickSupportImpl(y,U,P)}exportAddA11yClickSupport(){this.addA11yClickListener=!0,this.ecaacs=this.addA11yClickSupportImpl.bind(this)}addA11yClickSupportImpl(t,e,n){this.addA11yClickListener=!0,this.actionResolver.addA11yClickSupport(t,e,n)}}window.__jsaction_bootstrap=function(t,e,n,i,o=window){o[t]||(o[t]={});const r=new w(new d(e));o[t][n]=r;for(const t of i)r.addEvent(t);return r}}();