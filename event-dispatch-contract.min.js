!function(){"use strict";function t(t){return t.eventType}function e(t,e){t.eventType=e}function n(t){return t.event}function i(t){return t.eic}function o(t){return t.eia}function r(t,e,n){t.eia=[e,n]}function E(t){return t[1]}function s(t){return t.eiack}function a(t){return{eventType:t.eventType,event:t.event,targetElement:t.targetElement,eic:t.eic,eia:t.eia,timeStamp:t.timeStamp,eirp:t.eirp,eiack:t.eiack}}const c={AUXCLICK:"auxclick",CHANGE:"change",CLICK:"click",CLICKMOD:"clickmod",CLICKONLY:"clickonly",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEUP:"mouseup",MOUSEDOWN:"mousedown",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",MOUSEMOVE:"mousemove",POINTERUP:"pointerup",POINTERDOWN:"pointerdown",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERMOVE:"pointermove",POINTERCANCEL:"pointercancel",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",ERROR:"error",LOAD:"load",UNLOAD:"unload",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",INPUT:"input",SCROLL:"scroll",TOGGLE:"toggle",CUSTOM:"_custom"};var u;function p(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function T(t){let e=t.target;return!e.getAttribute&&e.parentNode&&(e=e.parentNode),e}!function(t){t[t.MAC_ENTER=3]="MAC_ENTER",t[t.ENTER=13]="ENTER",t[t.SPACE=32]="SPACE"}(u||(u={}));let O="undefined"!=typeof navigator&&/Macintosh/.test(navigator.userAgent);const l="undefined"!=typeof navigator&&!/Opera/.test(navigator.userAgent)&&/WebKit/.test(navigator.userAgent);"undefined"!=typeof navigator&&(/MSIE/.test(navigator.userAgent)||/Trident/.test(navigator.userAgent)),"undefined"!=typeof navigator&&!/Opera|WebKit/.test(navigator.userAgent)&&/Gecko/.test(navigator.product);const h={A:1,INPUT:1,TEXTAREA:1,SELECT:1,BUTTON:1};const C={Enter:u.ENTER," ":u.SPACE},d={A:u.ENTER,BUTTON:0,CHECKBOX:u.SPACE,COMBOBOX:u.ENTER,FILE:0,GRIDCELL:u.ENTER,LINK:u.ENTER,LISTBOX:u.ENTER,MENU:0,MENUBAR:0,MENUITEM:0,MENUITEMCHECKBOX:0,MENUITEMRADIO:0,OPTION:0,RADIO:u.SPACE,RADIOGROUP:u.SPACE,RESET:0,SUBMIT:0,SWITCH:u.SPACE,TAB:0,TREE:u.ENTER,TREEITEM:u.ENTER};function N(t){return(t.getAttribute("type")||t.tagName).toUpperCase()in v}function f(t){return(t.getAttribute("type")||t.tagName).toUpperCase()in A}const v={CHECKBOX:!0,FILE:!0,OPTION:!0,RADIO:!0},A={COLOR:!0,DATE:!0,DATETIME:!0,"DATETIME-LOCAL":!0,EMAIL:!0,MONTH:!0,NUMBER:!0,PASSWORD:!0,RANGE:!0,SEARCH:!0,TEL:!0,TEXT:!0,TEXTAREA:!0,TIME:!0,URL:!0,WEEK:!0},R={A:!0,AREA:!0,BUTTON:!0,DIALOG:!0,IMG:!0,INPUT:!0,LINK:!0,MENU:!0,OPTGROUP:!0,OPTION:!0,PROGRESS:!0,SELECT:!0,TEXTAREA:!0},S="undefined"!=typeof navigator&&/iPhone|iPad|iPod/.test(navigator.userAgent);class I{constructor(t){this.element=t,this.handlerInfos=[]}addEventListener(t,e){S&&(this.element.style.cursor="pointer"),this.handlerInfos.push(function(t,e,n){let i=!1;return e!==c.FOCUS&&e!==c.BLUR&&e!==c.ERROR&&e!==c.LOAD&&e!==c.TOGGLE||(i=!0),t.addEventListener(e,n,i),{eventType:e,handler:n,capture:i}}(this.element,t,e(this.element)))}cleanUp(){for(let n=0;n<this.handlerInfos.length;n++)e=this.handlerInfos[n],(t=this.element).removeEventListener?t.removeEventListener(e.eventType,e.handler,e.capture):t.detachEvent&&t.detachEvent(`on${e.eventType}`,e.handler);var t,e;this.handlerInfos=[]}}function y(t){(function(t){let e=t.which||t.keyCode;if(!e&&t.key&&(e=C[t.key]),l&&e===u.MAC_ENTER&&(e=u.ENTER),e!==u.ENTER&&e!==u.SPACE)return!1;const n=T(t);if(t.type!==c.KEYDOWN||!function(t){return"getAttribute"in t&&!f(t)&&!function(t){return"BUTTON"===t.tagName.toUpperCase()||!!t.type&&"FILE"===t.type.toUpperCase()}(t)&&!t.isContentEditable}(n)||function(t){return t.ctrlKey||t.shiftKey||t.altKey||t.metaKey}(t))return!1;if(N(n)&&e===u.SPACE)return!1;if(!function(t){return(t.tagName in h||function(t){const e=t.getAttributeNode("tabindex");return null!=e&&e.specified}(t))&&!t.disabled}(n))return!1;const i=(n.getAttribute("role")||n.type||n.tagName).toUpperCase(),o=d[i]%e==0,r=!(i in d)&&e===u.ENTER,E="INPUT"!==n.tagName.toUpperCase()||!!n.type;return(o||r)&&E})(n(t))&&(function(t,e){t.eiack=!0}(t),e(t,c.CLICK))}function U(t){s(t)&&(function(t){const e=t.which||t.keyCode,n=T(t),i=(n.type||n.tagName).toUpperCase();return e===u.SPACE&&"CHECKBOX"!==i}(n(t))||function(t){const e=T(t),n=e.tagName.toUpperCase(),i=(e.getAttribute("role")||"").toUpperCase();return"BUTTON"===n||"BUTTON"===i||!!function(t){return t.tagName.toUpperCase()in R}(e)&&"A"!==n&&"SELECT"!==n&&!N(e)&&!f(e)}(n(t)))&&p(n(t))}function L(n,i,E){o(i)||t(i)!==c.CLICK||s(i)||void 0===E[c.CLICKONLY]||(e(i,c.CLICKONLY),r(i,E[c.CLICKONLY],n))}var P;!function(t){t.JSACTION="jsaction",t.JSNAMESPACE="jsnamespace",t.OI="oi",t.VED="ved",t.VET="vet",t.JSINSTANCE="jsinstance",t.JSTRACK="jstrack"}(P||(P={}));var M;!function(t){t.JSACTION="__jsaction",t.JSNAMESPACE="__jsnamespace",t.OI="__oi",t.OWNER="__owner"}(M||(M={}));const g={};function m(t,e){t[M.JSACTION]=e}const k={},K=/\s*;\s*/,_=c.CLICK;class D{constructor({customEventSupport:t=!1,syntheticMouseEventSupport:e=!1}={}){this.a11yClickSupport=!1,this.updateEventInfoForA11yClick=void 0,this.preventDefaultForA11yClick=void 0,this.populateClickOnlyAction=void 0,this.customEventSupport=t,this.syntheticMouseEventSupport=e}resolve(i){if(this.customEventSupport&&t(i)===c.CUSTOM){const t=n(i).detail;if(!t||!t._type)return;e(i,t._type)}this.populateAction(i)}populateAction(r){var s;t(r)===c.CLICK&&(s=n(r),O&&s.metaKey||!O&&s.ctrlKey||function(t){return 2===t.which||null==t.which&&4===t.button}(s)||s.shiftKey)?e(r,c.CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(r);let a=function(t){return t.targetElement}(r);for(;a&&a!==i(r)&&(a.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(a,r),!o(r));)a=a[M.OWNER]?a[M.OWNER]:"#document-fragment"!==a.parentNode?.nodeName?a.parentNode:a.parentNode?.host??null;const u=o(r);if(u&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(r),this.syntheticMouseEventSupport&&(t(r)===c.MOUSEENTER||t(r)===c.MOUSELEAVE||t(r)===c.POINTERENTER||t(r)===c.POINTERLEAVE)))if(function(t,e,n){const i=t.relatedTarget;return(t.type===c.MOUSEOVER&&e===c.MOUSEENTER||t.type===c.MOUSEOUT&&e===c.MOUSELEAVE||t.type===c.POINTEROVER&&e===c.POINTERENTER||t.type===c.POINTEROUT&&e===c.POINTERLEAVE)&&(!i||i!==n&&!function(t,e){if(null===e)return!1;if("contains"in t&&1===e.nodeType)return t.contains(e);if("compareDocumentPosition"in t)return t===e||Boolean(16&t.compareDocumentPosition(e));for(;e&&t!==e;)e=e.parentNode;return e===t}(n,i))}(n(r),t(r),E(u))){const t=function(t,e){const n={};for(const e in t){if("srcElement"===e||"target"===e)continue;const i=t[e];"function"!=typeof i&&(n[e]=i)}return n.type=t.type===c.MOUSEOVER?c.MOUSEENTER:t.type===c.MOUSEOUT?c.MOUSELEAVE:t.type===c.POINTEROVER?c.POINTERENTER:c.POINTERLEAVE,n.target=n.srcElement=e,n.bubbles=!1,n}(n(r),E(u));!function(t,e){t.event=e}(r,t),function(t,e){t.targetElement=e}(r,E(u))}else!function(t){t.eia=void 0}(r)}populateActionOnElement(e,n){const i=this.parseActions(e),o=i[t(n)];void 0!==o&&r(n,o,e),this.a11yClickSupport&&this.populateClickOnlyAction(e,n,i)}parseActions(t){let e=t[M.JSACTION];if(!e){const n=t.getAttribute(P.JSACTION);if(n){if(e=g[n],!e){e={};const t=n.split(K);for(let n=0;n<t.length;n++){const i=t[n];if(!i)continue;const o=i.indexOf(":"),r=-1!==o,E=r?i.substr(0,o).trim():_,s=r?i.substr(o+1).trim():i;e[E]=s}g[n]=e}m(t,e)}else e=k,m(t,e)}return e}addA11yClickSupport(t,e,n){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=t,this.preventDefaultForA11yClick=e,this.populateClickOnlyAction=n}}class b{static{this.CUSTOM_EVENT_SUPPORT=!1}static{this.A11Y_CLICK_SUPPORT=!1}static{this.MOUSE_SPECIAL_SUPPORT=!1}constructor(t){this.actionResolver=new D({customEventSupport:b.CUSTOM_EVENT_SUPPORT,syntheticMouseEventSupport:b.MOUSE_SPECIAL_SUPPORT}),this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[],this.addA11yClickListener=!1,this.containerManager=t,b.CUSTOM_EVENT_SUPPORT&&this.addEvent(c.CUSTOM),b.A11Y_CLICK_SUPPORT&&this.addA11yClickSupport()}handleEvent(t,e,n){const i=function(t,e,n,i,o,r,E,s){return{eventType:t,event:e,targetElement:n,eic:i,timeStamp:Date.now(),eia:void 0,eirp:void 0,eiack:void 0}}(t,e,e.target,n);this.handleEventInfo(i)}handleEventInfo(i){if(this.dispatcher||(function(t,e){t.eirp=!0}(i),this.queuedEventInfos?.push(i)),this.actionResolver.resolve(i),!this.dispatcher)return;const r=a(i);t(r)===c.CLICKONLY&&e(r,c.CLICK),this.dispatcher(r,!0);const s=o(i);s&&(function(e,n){return"A"===e.tagName&&(t(n)===c.CLICK||t(n)===c.CLICKMOD)}(E(s),i)&&p(n(i)),this.dispatcher(i))}addEvent(t,e){if(t in this.eventHandlers||!this.containerManager)return;if(!b.MOUSE_SPECIAL_SUPPORT&&(t===c.MOUSEENTER||t===c.MOUSELEAVE||t===c.POINTERENTER||t===c.POINTERLEAVE))return;const n=(t,e,n)=>{this.handleEvent(t,e,n)};this.eventHandlers[t]=n;const i=function(t){return t===c.MOUSEENTER?c.MOUSEOVER:t===c.MOUSELEAVE?c.MOUSEOUT:t===c.POINTERENTER?c.POINTEROVER:t===c.POINTERLEAVE?c.POINTEROUT:t}(e||t);if(i!==t){const e=this.browserEventTypeToExtraEventTypes[i]||[];e.push(t),this.browserEventTypeToExtraEventTypes[i]=e}this.containerManager.addEventListener(i,e=>i=>{n(t,i,e)}),this.addA11yClickListener&&t===c.CLICK&&this.addEvent(c.KEYDOWN)}replayEarlyEvents(t=window){const n=t._ejsa;if(!n)return;const i=n.q;for(let t=0;t<i.length;t++){const n=i[t],o=this.getEventTypesForBrowserEventType(n.eventType);for(let t=0;t<o.length;t++){const i=a(n);e(i,o[t]),this.handleEventInfo(i)}}const o=n.h;V(n.c,n.et,o),V(n.c,n.etc,o,!0),delete t._ejsa}getEventTypesForBrowserEventType(t){const e=[];return this.eventHandlers[t]&&e.push(t),this.browserEventTypeToExtraEventTypes[t]&&e.push(...this.browserEventTypeToExtraEventTypes[t]),e}handler(t){return this.eventHandlers[t]}cleanUp(){this.containerManager.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(t,e){this.ecrd(t,e)}ecrd(t,e){if(this.dispatcher=t,this.queuedEventInfos?.length){for(let t=0;t<this.queuedEventInfos.length;t++)this.handleEventInfo(this.queuedEventInfos[t]);this.queuedEventInfos=null}}addA11yClickSupport(){this.addA11yClickSupportImpl(y,U,L)}exportAddA11yClickSupport(){this.addA11yClickListener=!0,this.ecaacs=this.addA11yClickSupportImpl.bind(this)}addA11yClickSupportImpl(t,e,n){this.addA11yClickListener=!0,this.actionResolver.addA11yClickSupport(t,e,n)}}function V(t,e,n,i){for(let o=0;o<e.length;o++)t.removeEventListener(e[o],n,i)}window.__jsaction_bootstrap=function(t,e,n,i,o=window){o[t]||(o[t]={});const r=new b(new I(e));o[t][n]=r;for(const t of i)r.addEvent(t)}}();