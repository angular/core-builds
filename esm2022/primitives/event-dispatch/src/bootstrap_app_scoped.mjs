/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
import { addEvents, createEarlyJsactionData } from './earlyeventcontract';
/**
 * Creates an `EarlyJsactionData`, adds events to it, and populates it on a nested object on
 * the window.
 */
export function bootstrapAppScopedEarlyEventContract(container, appId, bubbleEventTypes, captureEventTypes, dataContainer = window) {
    const earlyJsactionData = createEarlyJsactionData(container);
    if (!dataContainer._ejsas) {
        dataContainer._ejsas = {};
    }
    dataContainer._ejsas[appId] = earlyJsactionData;
    addEvents(earlyJsactionData, bubbleEventTypes);
    addEvents(earlyJsactionData, captureEventTypes, /* capture= */ true);
}
/**
 * Registers a dispatcher function on the `EarlyJsactionData` present on the nested object on the
 * window.
 */
export function registerAppScopedDispatcher(restriction, appId, dispatcher, dataContainer = window) {
    dataContainer._ejsas[appId].d = dispatcher;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYm9vdHN0cmFwX2FwcF9zY29wZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9wYWNrYWdlcy9jb3JlL3ByaW1pdGl2ZXMvZXZlbnQtZGlzcGF0Y2gvc3JjL2Jvb3RzdHJhcF9hcHBfc2NvcGVkLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7R0FNRztBQUdILE9BQU8sRUFBNkIsU0FBUyxFQUFFLHVCQUF1QixFQUFDLE1BQU0sc0JBQXNCLENBQUM7QUFHcEc7OztHQUdHO0FBQ0gsTUFBTSxVQUFVLG9DQUFvQyxDQUNsRCxTQUFzQixFQUN0QixLQUFhLEVBQ2IsZ0JBQTBCLEVBQzFCLGlCQUEyQixFQUMzQixnQkFBNEMsTUFBTTtJQUVsRCxNQUFNLGlCQUFpQixHQUFHLHVCQUF1QixDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQzdELElBQUksQ0FBQyxhQUFhLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDMUIsYUFBYSxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUM7SUFDNUIsQ0FBQztJQUNELGFBQWEsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEdBQUcsaUJBQWlCLENBQUM7SUFDaEQsU0FBUyxDQUFDLGlCQUFpQixFQUFFLGdCQUFnQixDQUFDLENBQUM7SUFDL0MsU0FBUyxDQUFDLGlCQUFpQixFQUFFLGlCQUFpQixFQUFFLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUN2RSxDQUFDO0FBRUQ7OztHQUdHO0FBQ0gsTUFBTSxVQUFVLDJCQUEyQixDQUN6QyxXQUF3QixFQUN4QixLQUFhLEVBQ2IsVUFBMEMsRUFDMUMsZ0JBQTRDLE1BQU07SUFFbEQsYUFBYSxDQUFDLE1BQU8sQ0FBQyxLQUFLLENBQUUsQ0FBQyxDQUFDLEdBQUcsVUFBVSxDQUFDO0FBQy9DLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgR29vZ2xlIExMQyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vYW5ndWxhci5pby9saWNlbnNlXG4gKi9cblxuaW1wb3J0IHtSZXN0cmljdGlvbn0gZnJvbSAnLi9yZXN0cmljdGlvbic7XG5pbXBvcnQge0Vhcmx5SnNhY3Rpb25EYXRhQ29udGFpbmVyLCBhZGRFdmVudHMsIGNyZWF0ZUVhcmx5SnNhY3Rpb25EYXRhfSBmcm9tICcuL2Vhcmx5ZXZlbnRjb250cmFjdCc7XG5pbXBvcnQge0V2ZW50SW5mb30gZnJvbSAnLi9ldmVudF9pbmZvJztcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGBFYXJseUpzYWN0aW9uRGF0YWAsIGFkZHMgZXZlbnRzIHRvIGl0LCBhbmQgcG9wdWxhdGVzIGl0IG9uIGEgbmVzdGVkIG9iamVjdCBvblxuICogdGhlIHdpbmRvdy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJvb3RzdHJhcEFwcFNjb3BlZEVhcmx5RXZlbnRDb250cmFjdChcbiAgY29udGFpbmVyOiBIVE1MRWxlbWVudCxcbiAgYXBwSWQ6IHN0cmluZyxcbiAgYnViYmxlRXZlbnRUeXBlczogc3RyaW5nW10sXG4gIGNhcHR1cmVFdmVudFR5cGVzOiBzdHJpbmdbXSxcbiAgZGF0YUNvbnRhaW5lcjogRWFybHlKc2FjdGlvbkRhdGFDb250YWluZXIgPSB3aW5kb3csXG4pIHtcbiAgY29uc3QgZWFybHlKc2FjdGlvbkRhdGEgPSBjcmVhdGVFYXJseUpzYWN0aW9uRGF0YShjb250YWluZXIpO1xuICBpZiAoIWRhdGFDb250YWluZXIuX2Vqc2FzKSB7XG4gICAgZGF0YUNvbnRhaW5lci5fZWpzYXMgPSB7fTtcbiAgfVxuICBkYXRhQ29udGFpbmVyLl9lanNhc1thcHBJZF0gPSBlYXJseUpzYWN0aW9uRGF0YTtcbiAgYWRkRXZlbnRzKGVhcmx5SnNhY3Rpb25EYXRhLCBidWJibGVFdmVudFR5cGVzKTtcbiAgYWRkRXZlbnRzKGVhcmx5SnNhY3Rpb25EYXRhLCBjYXB0dXJlRXZlbnRUeXBlcywgLyogY2FwdHVyZT0gKi8gdHJ1ZSk7XG59XG5cbi8qKlxuICogUmVnaXN0ZXJzIGEgZGlzcGF0Y2hlciBmdW5jdGlvbiBvbiB0aGUgYEVhcmx5SnNhY3Rpb25EYXRhYCBwcmVzZW50IG9uIHRoZSBuZXN0ZWQgb2JqZWN0IG9uIHRoZVxuICogd2luZG93LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJBcHBTY29wZWREaXNwYXRjaGVyKFxuICByZXN0cmljdGlvbjogUmVzdHJpY3Rpb24sXG4gIGFwcElkOiBzdHJpbmcsXG4gIGRpc3BhdGNoZXI6IChldmVudEluZm86IEV2ZW50SW5mbykgPT4gdm9pZCxcbiAgZGF0YUNvbnRhaW5lcjogRWFybHlKc2FjdGlvbkRhdGFDb250YWluZXIgPSB3aW5kb3csXG4pIHtcbiAgZGF0YUNvbnRhaW5lci5fZWpzYXMhW2FwcElkXSEuZCA9IGRpc3BhdGNoZXI7XG59XG4iXX0=